---
title: 実稼動以外のパイプラインの設定
description: Cloud Manager を使用して、コードをデプロイする実稼動以外のパイプラインを作成および設定する方法について説明します。
exl-id: ccf4b4a2-6e29-4ede-821c-36318b568e5c
source-git-commit: 984269e5fe70913644d26e759fa21ccea0536bf4
workflow-type: ht
source-wordcount: '685'
ht-degree: 100%

---

# 実稼動以外のパイプラインの設定 {#configuring-non-production-pipelines}

Cloud Manager を使用して、コードをデプロイする実稼動以外のパイプラインを作成および設定する方法について説明します。Cloud Manager でのパイプラインの動作に関する概念的な概要を最初に把握したい場合は、[CI／CD パイプライン](/help/overview/ci-cd-pipelines.md)を参照してください。

## 概要 {#overview}

[!UICONTROL Cloud Manager] の&#x200B;**パイプライン**&#x200B;タイルを使用して、**デプロイメントマネージャー**&#x200B;は 2 種類のパイプラインを作成できます。

* **実稼動パイプライン** - 実稼動パイプラインは、ソースコードを最終的に実稼動環境に取り込むために調整された一連のステップで構成される専用のパイプラインです。
* **実稼動以外のパイプライン** - 実稼動以外のパイプラインは、コード品質スキャンの実行または開発環境へのソースコードのデプロイを目的としています。

このドキュメントでは、実稼動以外のパイプラインに焦点を当てます。実稼動パイプラインの設定方法について詳しくは、[実稼動パイプラインの設定](/help/using/production-pipelines.md)のドキュメントを参照してください。

実稼動以外のパイプラインには次の 2 種類があります。

* **コード品質パイプライン** - これらの実行コード品質スキャンは、Git 分岐のコードに対して実行され、ビルドステップとコード品質ステップを実行します。
* **デプロイメントパイプライン** - コード品質パイプラインなどのビルドステップとコード品質ステップを実行するだけでなく、これらのパイプラインはコードを実稼動以外の環境にもデプロイします。

>[!NOTE]
>
>パイプラインは、関連する Git リポジトリが少なくとも 1 つの分岐を持ち、[プログラム設定](/help/getting-started/program-setup.md)が完了するまで、設定できません。Cloud Manager でリポジトリを追加および管理する方法について詳しくは、[Cloud Manager リポジトリ](/help/managing-code/managing-repositories.md)を参照してください。

## 実稼動以外のパイプラインの追加 {#add-non-production-pipeline}

Cloud Manager UI を使用してプログラムを設定し、1 つ以上の環境を用意したら、次の手順に従って実稼動以外のパイプラインを追加する準備が整います。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. Cloud Manager のホーム画面からパイプラインカードにアクセスします。「**追加**」をクリックし、「**実稼動以外のパイプラインを追加**」を選択します。

   ![実稼動以外のパイプラインを追加](/help/assets/configure-pipelines/nonprod-pipeline-add1.png)

1. **実稼動以外のパイプラインを追加**&#x200B;ダイアログの「**設定**」タブで、作成するパイプラインのタイプ（**コード品質パイプライン**&#x200B;または&#x200B;**デプロイメントパイプライン**）を選択します。

   ![パイプラインタイプを選択](/help/assets/configure-pipelines/add-non-production-pipeline.png)

1. 「**実稼動以外のパイプライン名**」フィールドに、パイプラインの説明を指定します。

1. **デプロイメントパイプライン**&#x200B;を追加することを選択した場合は、**適格なデプロイメント環境**&#x200B;ドロップダウンからターゲットデプロイメント環境を選択します。

1. パイプラインがコードを取得するリポジトリを指定します。

   * **リポジトリ** - パイプラインがコードを取得する Git リポジトリを定義します。
   * **Git 分岐** - 選択したパイプラインが Git のどの分岐からコードを取得するかを定義します。

1. デプロイメントオプションを定義します。

   1. **デプロイメントトリガー**&#x200B;で、パイプラインをアクティブ化するイベントを定義します。

      * **手動** - パイプラインを手動で開始します。
      * **Git の変更時** - 設定された Git 分岐にコミットが追加される際にパイプラインを開始します。このオプションを使用すると、必要に応じてパイプラインを手動で開始できます。

   1. デプロイメントパイプラインの場合は、品質ゲートのいずれかで重要なエラーが発生した場合のパイプラインの動作を「**重要な指標のエラー動作**」で定義します。

      * **毎回確認する** - デフォルトの設定。重要なエラーが検出されたときに手動で介入する必要があります。
      * **直ちに失敗** - 重要なエラーが検出されると、パイプラインはキャンセルされます。このオプションでは、基本的に、各エラーをユーザーが手動で拒否する状況をエミュレートします。
      * **直ちに続行** - 重要なエラーが検出されても、パイプラインは自動的に続行されます。このオプションでは、基本的に、各エラーをユーザーが手動で承認する状況をエミュレートします。

   1. **Dispatcher 設定** - **デプロイメントマネージャー**&#x200B;の役割は、パイプラインの実行時に AEM Dispatcher キャッシュから無効化またはフラッシュされる一連のコンテンツパスを設定できます。これらのキャッシュアクションは、コンテンツパッケージがデプロイされた直後に、デプロイメントパイプラインステップの一部として実行されます。これらの設定では、AEM Dispatcher の標準的な動作を使用します。次の手順で設定します。

      1. 「**パス**」で、コンテンツパスを指定します。
      1. 「**種類**」で、そのパスに対して実行するアクションを選択します。

         * **フラッシュ** - キャッシュの削除を実行します。
         * **無効化** - コンテンツがオーサーインスタンスからパブリッシュインスタンスに対してアクティベートされる場合と同様に、キャッシュの無効化を実行します。

      1. 「**パスを追加**」をクリックして、指定したパスを追加します。環境につき最大 100 個のパスを追加できます。

1. 「**保存**」をクリックします。

## 次の手順 {#the-next-steps}

パイプラインを設定したら、コードをデプロイできます。詳しくは、[コードのデプロイメント](/help/using/code-deployment.md)を参照してください。

## ビデオチュートリアル {#video-tutorial}

このビデオでは、パイプライン作成プロセスの概要を説明します。詳しくは、このドキュメントで説明します。

>[!VIDEO](https://video.tv.adobe.com/v/26316/)
