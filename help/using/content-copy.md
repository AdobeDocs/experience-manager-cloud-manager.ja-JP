---
title: コンテンツコピーツール
description: Cloud Manager のコンテンツコピーツールを使用すると、可変コンテンツをオンデマンドでAEM実稼動環境から低レベルの環境にコピーして、テスト目的でコピーできます。
source-git-commit: e32e51f7d10e753b7ecb2a63adb36d1b6c90fcc1
workflow-type: tm+mt
source-wordcount: '1040'
ht-degree: 8%

---


# コンテンツコピーツール {#content-copy}

Cloud Manager のコンテンツコピーツールを使用すると、可変コンテンツをオンデマンドでAEM実稼動環境から低レベルの環境にコピーして、テスト目的でコピーできます。

## はじめに {#introduction}

現在の実際のデータは、テスト、検証、ユーザー受け入れの目的で役立ちます。 コンテンツコピーツールを使用すると、実稼動AEM環境からステージング環境または開発環境にコンテンツをコピーして、そのようなテストをおこなうことができます。

コピーするコンテンツは、コンテンツセットによって定義されます。 コンテンツセットは、同じ Cloud Manager プログラム内のソース環境からターゲット環境にコピーされる可変コンテンツを含む JCR パスのリストで構成されます。 コンテンツセットでは、次のパスを使用できます。

```text
/content/**
/conf/**
/etc/**
/var/workflow/models/**
```

コンテンツをコピーする場合、ソース環境が真実のソースになります。

* 宛先環境でコンテンツが変更された場合、パスが同じ場合は、ソース内のコンテンツで上書きされます。
* パスが異なる場合、ソースのコンテンツは宛先のコンテンツと結合されます。

## 権限 {#permissions}

コンテンツコピーツールを使用するには、ソース環境とターゲット環境の両方で特定の権限が必要です。

| コンテンツコピー機能 | AEM Administrator Group で | デプロイメントマネージャーの役割で |
|---|---|---|
| 作成および変更 [コンテンツセット](#create-content-set) | はい | いいえ |
| を開始またはキャンセルする [コンテンツコピープロセス](#copy-content) | はい | はい |

## コンテンツセットの作成 {#create-content-set}

コンテンツをコピーする前に、コンテンツセットを定義する必要があります。 定義後は、コンテンツセットを再利用してコンテンツをコピーできます。 コンテンツセットを作成するには、次の手順に従います。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページの&#x200B;**環境**&#x200B;画面に移動します。

1. 次に移動： **コンテンツセット** ページを **環境** 画面

1. をタップまたはクリックします。 **コンテンツセットを追加** ボタンを使用して、画面の右上に表示されます。

   ![コンテンツセット](/help/assets/content-sets.png)

1. の **詳細** ウィザードの「 」タブで、コンテンツセットの名前と説明を入力し、「 」をタップまたはクリックします **続行**.

   ![コンテンツセットの詳細](/help/assets/add-content-set-details.png)

1. の **コンテンツのパス** ウィザードの「 」タブで、コンテンツセットに含める可変コンテンツのパスを指定します。

   1. パスを **インクルードパスを追加** フィールドに入力します。
   1. をタップまたはクリックします。 **パスを追加** ボタンをクリックして、コンテンツセットにパスを追加します。
   1. をタップまたはクリックします。 **パスを追加** ボタンを再度クリックします。

   ![コンテンツセットにパスを追加](/help/assets/add-content-set-paths.png)

1. コンテンツセットを調整または制限する必要がある場合、サブパスを除外できます。

   1. 含まれるパスのリストで、「 **除外サブパスを追加** 制限するパスの横にあるアイコン。
   1. 選択したパスの下に、除外するサブパスを入力します。
   1. タップまたはクリック **除外パス**.
   1. タップまたはクリック **除外サブパスを追加** 必要に応じて、除外するパスを追加します。

   ![パスの除外](/help/assets/add-content-set-paths-excluded.png)

1. 必要に応じて、指定したパスを変更できます。

   1. 除外されたサブパスの横にある「 X 」をタップまたはクリックすると、サブパスを削除できます。
   1. 表示するパスの横にある省略記号ボタンをタップまたはクリックします **編集** および **削除** オプション。

   ![パスリストを編集中](/help/assets/add-content-set-excluded-paths.png)

1. タップまたはクリック **作成** をクリックして、コンテンツセットを作成します。

コンテンツセットを使用して環境間でコンテンツをコピーできるようになりました。

## コンテンツセットの編集 {#edit-content-set}

コンテンツの手順を作成する場合と同様の手順に従います。 をタップまたはクリックする代わりに **コンテンツセットを追加**&#x200B;コンソールから既存のセットを選択し、「 」を選択します。 **編集** を選択します。

![コンテンツセットを編集](/help/assets/edit-content-set.png)

コンテンツセットの編集時に、除外されたサブパスを表示するには、設定されたパスを展開する必要が生じる場合があります。

## コンテンツのコピー {#copy-content}

コンテンツセットを作成したら、それを使用してコンテンツをコピーできます。 次の手順に従って、コンテンツをコピーします。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページの&#x200B;**環境**&#x200B;画面に移動します。

1. 次に移動： **コンテンツセット** ページを **環境** 画面

1. コンソールからコンテンツセットを選択し、「 」を選択します。 **コンテンツをコピー** を選択します。

   ![コンテンツのコピー](/help/assets/copy-content.png)

   >[!NOTE]
   >
   >次の場合、環境を選択できない可能性があります。
   >
   >* ユーザーに適切な権限がありません。
   >* 環境に実行中のパイプラインまたはコンテンツのコピー操作が進行中です。


1. 内 **コンテンツをコピー** ダイアログで、コンテンツコピーアクションのソースと宛先を指定します。

   ![コンテンツのコピー](/help/assets/copying-content.png)

1. タップまたはクリック **コピー**.

コピープロセスが開始します。 コピー処理のステータスは、選択したコンテンツセットのコンソールに反映されます。

## コンテンツコピーアクティビティ {#copy-activity}

コピープロセスのステータスは、 **コンテンツアクティビティをコピー** ページ。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページの&#x200B;**環境**&#x200B;画面に移動します。

1. 次に移動： **コンテンツアクティビティをコピー** ページを **環境** 画面

![コンテンツコピーアクティビティ](/help/assets/copy-content-activity.png)

### コンテンツコピーステータス {#statuses}

コンテンツのコピーを開始すると、プロセスに次のいずれかのステータスが設定されます。

| ステータス | 説明 |
|---|---|
| 処理中 | コンテンツのコピー操作が進行中です |
| 失敗 | コンテンツのコピー操作に失敗しました |
| 完了 | コンテンツのコピー操作が正常に完了しました |

## 制限事項 {#limitations}

コンテンツコピーツールには次の制限があります。

* 低い環境から高い環境にコンテンツのコピーを実行することはできません。
* コンテンツのコピーは、同じ層（author-author または publish-publish）内でのみ実行できます。
* クロスプログラムコンテンツのコピーはできません。
* 同じ環境で同時にコンテンツをコピーする操作を実行することはできません。
* 宛先または CI/CD パイプラインなどのソース環境でアクティブな操作が実行されている場合、コンテンツのコピーは実行できません。
* コンテンツセットごとに最大 10 個のパスを指定できます。 除外されるパスに制限はありません。
* コンテンツコピーツールは、ソース上の移動または削除されたコンテンツを追跡できないので、クローンまたはミラーリングツールとして使用しないでください。
* コンテンツコピーツールにはバージョン管理機能がなく、前回のコンテンツコピー操作以降に設定されたコンテンツ内のソース環境で変更されたコンテンツや新しく作成されたコンテンツを自動的に検出できません。
   * コンテンツのコピー操作が最後に実行されてからのコンテンツの変更のみを反映して宛先環境を更新する場合は、コンテンツセットを作成する必要があります。 このセットでは、前回のコンテンツコピー操作以降に変更が加えられたソースインスタンス上のパスを指定します。
* バージョン情報は、コンテンツコピーに含まれていません。
