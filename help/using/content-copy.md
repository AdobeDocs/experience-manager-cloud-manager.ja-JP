---
title: コンテンツコピーツール
description: Cloud Manager のコンテンツコピーツールを使用すると、可変コンテンツをオンデマンドで AMS でホストされている AEM 6.x 実稼動環境から下位の環境にテスト目的でコピーできます。
exl-id: 97915e58-a1d3-453f-b5ce-cad55ed73262
source-git-commit: fe5de4e1ab5cd0d0e317cd399b8e44758a6312c4
workflow-type: tm+mt
source-wordcount: '1139'
ht-degree: 93%

---


# コンテンツコピーツール {#content-copy}

Cloud Manager のコンテンツコピーツールを使用すると、可変コンテンツをオンデマンドで AMS でホストされている AEM 6.x 実稼動環境から下位の環境にテスト目的でコピーできます。

## はじめに {#introduction}

現在の実際のデータは、テスト、検証、ユーザー受け入れの目的で役立ちます。コンテンツのコピーツールを使用すると、AMS でホストされている実稼動 AEM 6.x 環境からステージングまたは開発環境にコンテンツをコピーして、テストを行うことができます。

コピーするコンテンツは、コンテンツセットによって定義されます。コンテンツセットは、同じ Cloud Manager プログラム内のソース環境からターゲット環境にコピーされる可変コンテンツを含む JCR パスのリストで構成されます。コンテンツセットでは、次のパスを使用できます。

```text
/content/**
/conf/**
/etc/**
/var/workflow/models/**
```

コンテンツをコピーする場合、ソース環境が真のソースです。

* 宛先環境でコンテンツが変更されている場合、パスが同じであれば、ソースのコンテンツで上書きされます。
* パスが異なる場合、ソースのコンテンツは宛先のコンテンツと結合されます。

>[!NOTE]
>
>この機能を有効にするには、カスタマーサクセスエンジニア（CSE）にお問い合わせください。

## 権限 {#permissions}

コンテンツのコピーツールを使用するには、ソース環境とターゲット環境で、ユーザーを&#x200B;**デプロイメントマネージャー**&#x200B;の役割に割り当てる必要があります。

## コンテンツセットの作成 {#create-content-set}

コンテンツをコピーする前に、コンテンツセットを定義する必要があります。定義すると、コンテンツセットを再使用してコンテンツをコピーできます。コンテンツセットを作成するには、次の手順に従います。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページから&#x200B;**環境**&#x200B;画面に移動します。

1. **環境**&#x200B;画面から&#x200B;**コンテンツセット**&#x200B;ページに移動します。

1. 画面の右上にある「**コンテンツセットを追加**」ボタンをタップまたはクリックします。

   ![コンテンツセット](/help/assets/content-sets.png)

1. ウィザードの「**詳細**」タブで、コンテンツセットの名前と説明を入力し、「**続行**」をタップまたはクリックします。

   ![コンテンツセットの詳細](/help/assets/add-content-set-details.png)

1. ウィザードの「**コンテンツのパス**」タブで、コンテンツセットに含める可変コンテンツのパスを指定します。

   1. パスを「**インクルードパスを追加**」フィールドに入力します。
   1. 「**パスを追加**」ボタンをタップまたはクリックして、コンテンツセットにパスを追加します。
   1. 必要に応じて、「**パスを追加**」ボタンを再度タップまたはクリックします。

   ![コンテンツセットへのパスの追加](/help/assets/add-content-set-paths.png)

1. コンテンツセットを調整または制限する必要がある場合、サブパスを除外できます。

   1. 含まれるパスのリストで、制限する必要があるパスの横にある「**除外サブパスを追加**」アイコンをタップまたはクリックします。
   1. 選択したパスの下に、除外するサブパスを入力します。
   1. 「**除外パス**」をタップまたはクリックします。
   1. 必要に応じて、「**除外サブパスを追加**」をタップまたはクリックして、除外するパスを追加します。

   ![パスの除外](/help/assets/add-content-set-paths-excluded.png)

1. 必要に応じて、指定したパスを変更できます。

   1. 除外されたサブパスの横にある「X」をタップまたはクリックすると、サブパスを削除できます。
   1. パスの横にある「...」ボタンをタップまたはクリックして、「**編集**」および「**削除**」オプションを表示します。

   ![パスリストを編集中](/help/assets/add-content-set-excluded-paths.png)

1. コンテンツセットを作成するには、「**作成**」をタップまたはクリックします。

コンテンツセットを使用して環境間でコンテンツをコピーできるようになりました。

>[!NOTE]
>
>コンテンツセットには、最大 50 個のパスを追加できます。
>除外されるパスに制限はありません。

## コンテンツセットの編集 {#edit-content-set}

コンテンツの手順を作成する場合と同様の手順に従います。「**コンテンツセットを追加**」をタップまたはクリックする代わりに、コンソールから既存のセットを選択し、「...」メニューから「**編集**」を選択します。

![コンテンツセットの編集](/help/assets/edit-content-set.png)

コンテンツセットを編集する際、除外されたサブパスを表示するには、設定されたパスを展開する必要が出ることがあります。

## コンテンツのコピー {#copy-content}

コンテンツセットを作成したら、それを使用してコンテンツをコピーできます。次の手順に従って、コンテンツをコピーします。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページから&#x200B;**環境**&#x200B;画面に移動します。

1. **環境**&#x200B;画面から&#x200B;**コンテンツセット**&#x200B;ページに移動します。

1. コンソールからコンテンツセットを選択し、省略記号メニューから「**コンテンツをコピー**」を選択します。

   ![コンテンツのコピー](/help/assets/copy-content.png)

   >[!NOTE]
   >
   >次の場合、環境を選択できない可能性があります。
   >
   >* ユーザーに適切な権限がない。
   >* 環境でパイプラインが実行されているか、コンテンツのコピー操作が処理中。

1. **コンテンツをコピー**&#x200B;ダイアログで、コンテンツのコピーアクションのソースと宛先を指定します。

1. 宛先環境で除外パスを削除または保持するように選択できます。 コンテンツセットで指定した除外パスを保持する場合は、「`Do not delete exclude paths from destination`」チェックボックスをオンにします。チェックボックスをオフのままにすると、ターゲット環境で除外パスが削除されます。

1. コピー元のパスのバージョン履歴をコピー先の環境にコピーするように選択できます。 チェックボックスを選択 `Copy Versions` すべてのバージョン履歴をコピーする場合。

   ![コンテンツのコピー](/help/assets/copying-content.png)

1. 「**コピー**」をタップまたはクリックします。

コピープロセスが開始します。コピープロセスのステータスは、選択したコンテンツセットのコンソールに反映されます。

## コンテンツのコピーアクティビティ {#copy-activity}

コピープロセスのステータスは、**コンテンツをコピーアクティビティ**&#x200B;ページで監視できます。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページの&#x200B;**環境**&#x200B;画面に移動します。

1. **環境**&#x200B;画面から&#x200B;**コンテンツをコピーアクティビティ**&#x200B;ページに移動します。

![コンテンツのコピーアクティビティ](/help/assets/copy-content-activity.png)

### コンテンツのコピーステータス {#statuses}

コンテンツのコピーを開始すると、プロセスに次のいずれかのステータスが設定されます。

| ステータス | 説明 |
|---|---|
| 処理中 | コンテンツのコピー操作が進行中です |
| 失敗 | コンテンツのコピー操作に失敗しました |
| 完了 | コンテンツのコピー操作が正常に完了しました |

## 制限事項 {#limitations}

コンテンツのコピーツールには次の制限があります。

* 下位環境から上位環境へのコンテンツのコピーは実行できません。
* コンテンツのコピーは、同じ層（オーサー - オーサーまたはパブリッシュ - パブリッシュ）内でのみ実行できます。
* プログラム間および地域間でのコンテンツのコピーはできません。
* クラウドデータストアベースのトポロジのコンテンツコピーは、ソース環境と宛先環境が同じクラウドプロバイダーと同じ地域にある場合にのみ実行できます。
* 同じ環境でコンテンツのコピー操作を同時に実行することはできません。
* CI／CD パイプラインなどの宛先またはソース環境でアクティブな操作が実行されている場合、コンテンツのコピーは実行できません。
* コンテンツセットごとに最大 50 個のパスを指定できます。除外されるパスに制限はありません。
* コンテンツのコピーツールは、ソース上の移動されたコンテンツや削除されたコンテンツを追跡できないので、クローンまたはミラーリングツールとして使用しないでください。
* コンテンツコピーを開始した後は、一時停止やキャンセルができません。
* コンテンツのコピーツールは、Dynamic Media 関連のメタデータと共に、上位環境から選択した下位環境にアセットをコピーします。
   * コピーしたアセットは、それぞれの Dynamic Media 設定を使用するために、下位環境で [DAM プロセスアセットワークフロー](https://experienceleague.adobe.com/docs/experience-manager-65/assets/using/assets-workflow.html?lang=ja)を使用して再処理する必要があります。
* バージョン履歴がコピーされない場合、コンテンツのコピープロセスは大幅に高速になります。
