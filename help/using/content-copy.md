---
title: コンテンツコピーツール
description: Cloud Managerのコンテンツコピーツールを使用すると、可変コンテンツをオンデマンドで AMS でホストされているAEM 6.x 実稼動環境から下位のテスト用の環境にコピーできます。
exl-id: 97915e58-a1d3-453f-b5ce-cad55ed73262
source-git-commit: 8e2c57d2594691e7fb18d8a538caa9b54a26b6bb
workflow-type: tm+mt
source-wordcount: '1144'
ht-degree: 41%

---


# コンテンツコピーツール {#content-copy}

Cloud Managerのコンテンツコピーツールを使用すると、可変コンテンツをオンデマンドで AMS でホストされているAEM 6.x 実稼動環境から下位のテスト用の環境にコピーできます。

## はじめに {#introduction}

現在の実際のデータは、テスト、検証、ユーザー受け入れの目的で役立ちます。コンテンツのコピーツールを使用すると、AMS でホストされている実稼動AEM 6.x 環境からステージングまたは開発環境にコンテンツをコピーできます。 このワークフローは、様々なテストシナリオをサポートします。

コンテンツセットは、コピーするコンテンツを定義します。 コンテンツセットには、コピーする可変コンテンツを含む JCR パスのリストが含まれます。 コンテンツがソース環境からターゲット環境に移動します。 すべては、同じCloud Manager プログラム内で行われます。

コンテンツセットでは、次のパスを使用できます。

```text
/content/**
/conf/**
/etc/**
/var/workflow/models/**
/var/commerce/**
```

コンテンツをコピーする場合、ソース環境が真のソースです。

* 宛先環境でコンテンツを編集する場合、パスが一致すると、ソースコンテンツによって上書きされます。
* パスが異なる場合、ソースのコンテンツは宛先のコンテンツと結合されます。

## 権限 {#permissions}

コンテンツのコピーツールを使用するには、ソース環境とターゲット環境で、ユーザーを **デプロイメントマネージャー** の役割に割り当てる必要があります。

## コンテンツセットの作成 {#create-content-set}

コンテンツをコピーする前に、コンテンツセットを定義する必要があります。定義すると、コンテンツセットを再使用してコンテンツをコピーできます。コンテンツセットを作成するには、次の手順に従います。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページから、**環境**&#x200B;画面に移動します。

1. **環境** 画面から **コンテンツセット** ページに移動します。

1. 画面の右上付近にある「**コンテンツセットを追加**」をクリックします。

   ![コンテンツセット](/help/assets/content-sets.png)

1. ウィザードの「**詳細**」タブで、コンテンツセットの名前と説明を入力し、「**続行**」をクリックします。

   ![コンテンツセットの詳細](/help/assets/add-content-set-details.png)

1. ウィザードの「**コンテンツのパス**」タブで、コンテンツセットに含める可変コンテンツのパスを指定します。

   1. パスを「**インクルードパスを追加**」フィールドに入力します。
   1. 「**パスを追加**」をクリックして、コンテンツセットにパスを追加します。
   1. 必要に応じて、「**パスを追加**」を再度クリックします。

   ![コンテンツセットへのパスの追加](/help/assets/add-content-set-paths.png)

1. コンテンツセットを調整または制限する必要がある場合、サブパスを除外できます。

   1. 含まれるパスのリストで、制限する必要があるパスの横にある **除外サブパスを追加** アイコンをクリックします。
   1. 選択したパスから除外するサブパスを入力します。
   1. **除外パス** をクリックします。
   1. 再度、「**除外サブパスを追加**」をクリックして、必要に応じて除外するパスを追加します。

   ![パスの除外](/help/assets/add-content-set-paths-excluded.png)

1. 必要に応じて、指定したパスを変更できます。

   1. 除外されたサブパスの横にある `X` をクリックすると、サブパスを削除できます。
   1. パスの横にある「。..」ボタンをクリックして、「**編集**」および **削除** オプションを表示します。

   ![パスリストの編集](/help/assets/add-content-set-excluded-paths.png)

1. **作成** をクリックして、コンテンツセットを作成します。

コンテンツセットを使用して環境間でコンテンツをコピーできるようになりました。

>[!NOTE]
>
>コンテンツセットには、最大 50 個のパスを追加できます。
>除外されるパスに制限はありません。

## コンテンツセットの編集 {#edit-content-set}

コンテンツの手順を作成する場合と同様の手順に従います。**コンテンツセットを追加** をクリックする代わりに、コンソールから既存のセットを選択し、「。..」メニューから **編集** を選択します。

![コンテンツセットの編集](/help/assets/edit-content-set.png)

コンテンツセットを編集する際、除外されたサブパスを表示するには、設定されたパスを展開する必要が出ることがあります。

## コンテンツのコピー {#copy-content}

コンテンツセットを作成したら、それを使用してコンテンツをコピーできます。次の手順に従って、コンテンツをコピーします。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページから、**環境**&#x200B;画面に移動します。

1. **環境** 画面から **コンテンツセット** ページに移動します。

1. コンソールからコンテンツセットを選択し、省略記号メニューから「**コンテンツをコピー**」を選択します。

   ![コンテンツのコピー](/help/assets/copy-content.png)

   >[!NOTE]
   >
   >次の場合、環境を選択できない可能性があります。
   >
   >* ユーザーに適切な権限がない。
   >* 環境でパイプラインが実行されているか、コンテンツのコピー操作が処理中。

1. **コンテンツをコピー** ダイアログボックスで、コンテンツのコピーアクションのソース環境と宛先環境を指定します。
   * ターゲット環境の地域は、ソース環境の地域と同じまたはサブセットである必要があります。

1. 宛先環境で除外パスを削除または保持することを選択できます。 コンテンツセットで指定した `exclude paths` を保持するチェックボックス `Do not delete exclude paths from destination` を選択します。 チェックボックスをオフにすると、ターゲット環境で除外パスが削除されます。

1. コピー元のパスからコピー先の環境へ、パスのバージョン履歴をコピーするように選択できます。 すべてのバージョン履歴をコピーする場合は、「`Copy Versions`」チェックボックスを選択します。

   ![コンテンツのコピー](/help/assets/copying-content.png)

1. 「**コピー**」をクリックします。

コピープロセスが開始します。コピープロセスのステータスは、選択したコンテンツセットのコンソールに反映されます。

## コンテンツのコピーアクティビティ {#copy-activity}

コピープロセスのステータスは、**コンテンツをコピーアクティビティ**&#x200B;ページで監視できます。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) でCloud Managerにログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページから、**環境**&#x200B;画面に移動します。

1. **環境** 画面から **コンテンツをコピーアクティビティ** ページに移動します。

![コンテンツのコピーアクティビティ](/help/assets/copy-content-activity.png)

### コンテンツのコピーステータス {#statuses}

コンテンツのコピーを開始すると、プロセスに次のいずれかのステータスが設定されます。

| ステータス | 説明 |
|---|---|
| 処理中 | コンテンツのコピー操作が進行中です |
| 失敗 | コンテンツのコピー操作に失敗しました |
| 完了 | コンテンツのコピー操作が正常に完了しました |

## 制限事項 {#limitations}

コンテンツのコピーツールには次の制限があります。

* 下位環境から上位環境へのコンテンツのコピーは実行できません。
* コンテンツのコピーは、同じ階層内でのみ実行できます。 つまり、オーサー/オーサーまたはパブリッシュ/パブリッシュです。
* プログラム間および地域間でのコンテンツのコピーはできません。
* クラウドデータストアベースのトポロジのコンテンツのコピーは、ソース環境と宛先環境が同じクラウドプロバイダー上にあり、同じ地域にある場合にのみ実行できます。
* コンテンツのコピー操作を同じ環境で同時に実行することはできません。
* CI/CD パイプラインなどの宛先またはソース環境でアクティブな操作が実行されている場合、コンテンツのコピーは実行できません。
* コンテンツセットごとに最大 50 個のパスを指定できます。除外されるパスに制限はありません。
* コンテンツのコピーツールは、ソース上の移動されたコンテンツや削除されたコンテンツをトラックできないので、クローンまたはミラーリングツールとして使用しないでください。
* コンテンツコピーは、開始後に一時停止したりキャンセルしたりすることはできません。
* コンテンツコピーツールは、アセットとDynamic Mediaのメタデータを、上位環境から選択した下位環境にコピーします。 コピーしたアセットは、それぞれのDynamic Media設定を使用するために、下位環境で [DAM プロセスアセットワークフロー ](https://experienceleague.adobe.com/ja/docs/experience-manager-65/content/assets/using/assets-workflow) を使用して再処理する必要があります。
* バージョン履歴がコピーされない場合、コンテンツのコピープロセスは大幅に高速になります。
* [ アセットサイズが 2 GB を超えるDynamic Media設定は有効になっていま ](https://experienceleague.adobe.com/en/docs/experience-manager-65/content/assets/dynamic/config-dms7#optional-config-dms7-assets-larger-than-2gb)。サポートされていません。
* バージョン履歴がコピーされない場合、コンテンツのコピープロセスが大幅に高速になります。
* ターゲット環境の地域は、ソース環境の地域と同じまたはサブセットである必要があります。

## 既知の問題 {#known-issues}

{{content-copy-known-issues}}
